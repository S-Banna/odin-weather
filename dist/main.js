(()=>{let e="4d49b75508624cc6b29145523240204",t=document.getElementById("locationSelector"),n=document.getElementById("location"),a=document.getElementById("note"),o=document.getElementById("overlay"),r=document.getElementById("condition"),c=document.getElementById("mainImg"),i=document.getElementById("city"),d=document.getElementById("country"),y={temp_c:0,feelslike_c:0,temp_f:0,feelslike_f:0,condition:"error",icon:"error",is_day:"error",uv:0,precip_in:0,precip_mm:0,humidity:0,wind_kph:0,wind_mph:0,last_updated:"error",average_day1_c:0,average_day1_f:0,average_day2_c:0,average_day2_f:0,day1_text:"error",day2_text:"error",day1_icon:"error",day2_icon:"error",country:"error",city:"error"};function s(e,t){y.temp_c=e.current.temp_c,y.feelslike_c=e.current.feelslike_c,y.temp_f=e.current.temp_f,y.feelslike_f=e.current.feelslike_f,y.condition=e.current.condition.text,y.icon=e.current.condition.icon,1==e.current.is_day&&(y.is_day=!0),0==e.current.is_day&&(y.is_day=!1),y.uv=e.current.uv,y.precip_in=e.current.precip_in,y.precip_mm=e.current.precip_mm,y.humidity=e.current.humidity,y.wind_kph=e.current.wind_kph,y.wind_mph=e.current.wind_mph,y.last_updated=e.current.last_updated,y.average_day1_c=t.forecast.forecastday[1].day.avgtemp_c,y.average_day1_f=t.forecast.forecastday[1].day.avgtemp_f,y.average_day2_c=t.forecast.forecastday[2].day.avgtemp_c,y.average_day2_f=t.forecast.forecastday[2].day.avgtemp_f,y.day1_text=t.forecast.forecastday[1].day.condition.text,y.day1_icon=t.forecast.forecastday[1].day.condition.icon,y.day2_text=t.forecast.forecastday[2].day.condition.text,y.day2_icon=t.forecast.forecastday[2].day.condition.icon,y.country=e.location.country,y.city=e.location.name,console.log(y);let n=y.condition;n.includes("snow")?o.style.backgroundImage="url('./images/snow.jpeg')":n.includes("rain")?o.style.backgroundImage="url('./images/rain.jpeg')":0==y.is_day?o.style.backgroundImage="url('./images/moon.jpeg')":o.style.backgroundImage="url('./images/sun.jpeg')",r.textContent=y.condition,c.src=y.icon,d.textContent=y.country,i.textContent=y.city}t.addEventListener("click",(()=>{let t=n.value;n.value="",async function(t){try{let n=await fetch(`https://api.weatherapi.com/v1/current.json?key=${e}&q=${t}`,{mode:"cors"}),o=await n.json(),r=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=Beirut&days=3`,{mode:"cors"}),c=await r.json();a.textContent="Text should be entered in the form: City",s(o,c)}catch(e){console.log(e),a.textContent="No location found"}}(t.split(",")[0])}))})();