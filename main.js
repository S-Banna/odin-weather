(()=>{let e="4d49b75508624cc6b29145523240204",t=document.getElementById("locationSelector"),n=document.getElementById("location"),o=document.getElementById("note"),a=document.getElementById("overlay"),d=document.getElementById("condition"),c=document.getElementById("mainImg"),r=document.getElementById("city"),i=document.getElementById("country"),y=document.getElementById("switcher"),m=document.getElementById("day1img"),l=document.getElementById("day1text"),_=document.getElementById("day1day"),u=document.getElementById("day1temp"),s=document.getElementById("day2img"),g=document.getElementById("day2text"),p=document.getElementById("day2day"),f=document.getElementById("day2temp"),x=document.getElementById("stuff"),C=document.getElementById("nowTemp"),I=document.getElementById("feelsLike"),E=document.getElementById("UVnumber"),v=document.getElementById("UVexplain"),B=document.getElementById("humidExplain"),h=document.getElementById("humidNumber"),k=document.getElementById("windValue"),w=document.getElementById("rainValue"),b="metric";y.addEventListener("click",(()=>{"metric"==b?(b="imperial",y.textContent="Imperial",F()):(b="metric",y.textContent="Metric",F())}));let j={temp_c:0,feelslike_c:0,temp_f:0,feelslike_f:0,condition:"error",icon:"error",is_day:"error",uv:0,precip_in:0,precip_mm:0,humidity:0,wind_kph:0,wind_mph:0,last_updated:"error",average_day1_c:0,average_day1_f:0,average_day2_c:0,average_day2_f:0,day1_text:"error",day2_text:"error",day1_icon:"error",day2_icon:"error",day1_day:"error",day2_day:"error",country:"error",city:"error"};function F(){x.style.display="flex";let e=j.condition;e.includes("snow")?a.style.backgroundImage="url('./images/snow.jpeg')":e.includes("rain")?a.style.backgroundImage="url('./images/rain.jpeg')":0==j.is_day?a.style.backgroundImage="url('./images/moon.jpeg')":a.style.backgroundImage="url('./images/sun.jpeg')",d.textContent=j.condition,c.src=j.icon,i.textContent=j.country,r.textContent=j.city,m.src=j.day1_icon,l.textContent=j.day1_text,_.textContent=j.day1_day,s.src=j.day2_icon,g.textContent=j.day2_text,p.textContent=j.day2_day,E.textContent=j.uv,h.textContent=j.humidity+"%",E.textContent<3?v.textContent="Low":E.textContent<8?v.textContent="Moderate":v.textContent="Very High",h.textContent<20?B.textContent="Dry":h.textContent<60?B.textContent="Moderate":B.textContent="Humid","metric"==b?(u.textContent=j.average_day1_c+" °C",f.textContent=j.average_day2_c+" °C",C.textContent=j.temp_c+" °C",I.textContent="Feels Like "+j.feelslike_c+" °C",k.textContent=j.wind_kph+" KPH",w.textContent=j.precip_mm+" mm"):(u.textContent=j.average_day1_f+" °F",f.textContent=j.average_day2_f+" °F",C.textContent=j.temp_f+" °F",I.textContent="Feels Like "+j.feelslike_f+" °F",k.textContent=j.wind_mph+" MPH",w.textContent=j.precip_in+" in")}t.addEventListener("click",(()=>{let t=n.value;n.value="",async function(t){try{let n=await fetch(`https://api.weatherapi.com/v1/current.json?key=${e}&q=${t}`,{mode:"cors"}),a=await n.json(),d=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=${t}&days=3`,{mode:"cors"}),c=await d.json();o.textContent="Text should be entered in the form: City",function(e,t){j.temp_c=e.current.temp_c,j.feelslike_c=e.current.feelslike_c,j.temp_f=e.current.temp_f,j.feelslike_f=e.current.feelslike_f,j.condition=e.current.condition.text,j.icon=e.current.condition.icon,1==e.current.is_day&&(j.is_day=!0),0==e.current.is_day&&(j.is_day=!1),j.uv=e.current.uv,j.precip_in=e.current.precip_in,j.precip_mm=e.current.precip_mm,j.humidity=e.current.humidity,j.wind_kph=e.current.wind_kph,j.wind_mph=e.current.wind_mph,j.last_updated=e.current.last_updated,j.average_day1_c=t.forecast.forecastday[1].day.avgtemp_c,j.average_day1_f=t.forecast.forecastday[1].day.avgtemp_f,j.average_day2_c=t.forecast.forecastday[2].day.avgtemp_c,j.average_day2_f=t.forecast.forecastday[2].day.avgtemp_f,j.day1_text=t.forecast.forecastday[1].day.condition.text,j.day1_icon=t.forecast.forecastday[1].day.condition.icon,j.day2_text=t.forecast.forecastday[2].day.condition.text,j.day2_icon=t.forecast.forecastday[2].day.condition.icon,j.day1_day=t.forecast.forecastday[1].date,j.day2_day=t.forecast.forecastday[2].date,j.country=e.location.country,j.city=e.location.name,console.log(e),F()}(a,c)}catch(e){console.log(e),o.textContent="No location found"}}(t)}))})();